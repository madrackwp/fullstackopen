{"version":3,"sources":["components/PersonForm.js","components/PhonebookEntry.js","components/Persons.js","services/persons.js","components/Notification.js","components/Filter.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","addNewName","value","newName","onChange","handleNameChange","newNum","handleNumChange","type","PhonebookEntry","person","deletePerson","name","number","onClick","Persons","persons","map","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","toUpdate","console","log","request","put","Notification","message","error","length","className","Filter","filter","handleFilterChange","App","useState","setPersons","setNewName","setNewNum","setFilter","notificationMessage","setNotificationMessage","errorNotification","setErrorNotification","useEffect","personService","initialContacts","personsToShow","toLowerCase","includes","event","target","preventDefault","i","dupChecker","window","confirm","updatedPerson","setTimeout","catch","concat","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4a741a8c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.addNewName}>\r\n        <div>\r\n          name: <input value={props.newName} onChange={props.handleNameChange}/>\r\n        </div>\r\n        <div>\r\n            number: <input value={props.newNum} onChange={props.handleNumChange}></input>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" >add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport PersonForm from './PersonForm'\r\n\r\nconst PhonebookEntry = ({person, deletePerson}) => {\r\n    return(\r\n        <p key={person.name}>\r\n            {person.name} {person.number} <button onClick={()=> deletePerson(person)}>delete</button>\r\n        </p>\r\n    )  \r\n}\r\n\r\nexport default PhonebookEntry","import React from 'react'\r\nimport PhonebookEntry from './PhonebookEntry'\r\n\r\nconst Persons = (props) => {\r\n    return(\r\n        <div>\r\n            {props.persons.map(person => <PhonebookEntry person={person} deletePerson = {props.deletePerson}/>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = ( id ) => {\r\n    // console.log('attempting to delete: ',id) \r\n    return axios.delete(`${baseUrl}/${id}`) \r\n}\r\n\r\nconst update = (toUpdate, id ) => {\r\n    console.log(id)\r\n    console.log(toUpdate)\r\n    const request = axios.put(`${baseUrl}/${id}`, toUpdate)\r\n    console.log()\r\n    return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst Notification = ({message,error}) => {\r\n    if (message.length ===0){\r\n        return null\r\n    }\r\n\r\n    if (error){\r\n        return (\r\n            <div className = 'error'>\r\n                {message}\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className = 'notification'>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    \r\n}\r\n\r\nexport default Notification","import React,{useState} from 'react'\r\n\r\nconst Filter = (props) => {\r\n    // const [ filter, setFilter ] = useState('')\r\n\r\n    // const handleFilterChange = (event) => {\r\n    //     console.log(event.target.value)\r\n    //     // setFilter(event.target.value)\r\n    //   }\r\n\r\n    return (\r\n        <div>\r\n            filter shown with <input value={props.filter} onChange={props.handleFilterChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React, { useEffect, useState } from 'react'\r\nimport Persons from './components/Persons'\r\nimport PersonsForm from './components/PersonForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\nimport Filter from './components/Filter'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNum, setNewNum ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [ notificationMessage, setNotificationMessage ] = useState('')\r\n  const [ errorNotification, setErrorNotification ] = useState(false)\r\n\r\n\r\n  const hook = () => {\r\n    personService.getAll().then(initialContacts => {\r\n      setPersons(initialContacts)})\r\n  }\r\n\r\n  useEffect(hook, [])\r\n\r\n  const addNewName = (event) => {\r\n    // console.log(persons)\r\n    event.preventDefault()\r\n    const newPerson = {name: newName, number: newNum}\r\n    // console.log(newPerson)\r\n    let dupChecker = false\r\n    let id = -1\r\n    let i;\r\n    for (i=0; i<persons.length;i++){\r\n        if (persons[i].name === newPerson.name){\r\n            dupChecker = true;\r\n            console.log(\"Person already exists in phonebook!\")\r\n            id = persons[i].id\r\n        }\r\n    }\r\n    console.log(dupChecker)\r\n\r\n    \r\n    if (dupChecker){\r\n        // window.alert(`${newName} is already added to phonebook`)\r\n        if (window.confirm(`${newPerson.name} has already been added, replace the old number with a new one?`)){\r\n          console.log(\"DUPS! ID: \",id)\r\n          personService\r\n            .update(newPerson, id)\r\n            .then(updatedPerson => {\r\n              console.log('update success')\r\n              setPersons(persons.map(person => person.id !== id ? person : updatedPerson))\r\n              setNewNum('')\r\n              setNewName('')\r\n              setNotificationMessage(`${newPerson.name}'s number has been updated`)\r\n              setTimeout(() => {\r\n                setNotificationMessage('')\r\n              },3000)\r\n            })\r\n            .catch(error => {\r\n              console.log('update failed')\r\n              console.log(error)\r\n              setErrorNotification(true)\r\n              setNotificationMessage(`${newPerson.name}'s details has already been removed`)\r\n              setTimeout(() => {\r\n                setNotificationMessage('')\r\n                setErrorNotification(false)\r\n              },3000)\r\n              setPersons(persons.filter(person => person.id !== id))\r\n            })\r\n        }\r\n    } else {\r\n      console.log(\"NOT A DUP\")\r\n      personService\r\n        .create(newPerson)\r\n        .then(newPerson => {\r\n          setPersons(persons.concat(newPerson))\r\n          setNewName('')\r\n          setNewNum('')\r\n          setNotificationMessage(`${newPerson.name} has been added`)\r\n          setTimeout(() => {setNotificationMessage('')},5000)\r\n        })\r\n        .catch(error => {\r\n          console.log('FAILED!')\r\n          console.log(error.response)\r\n          setErrorNotification(true)\r\n          setNotificationMessage(error.response.data.error)\r\n          setNewName('')\r\n          setNewNum('')\r\n          setTimeout(() => {\r\n            setNotificationMessage('')\r\n            setErrorNotification(false)\r\n          }, 3000)\r\n        })\r\n    }    \r\n  }\r\n\r\n  const deletePerson = (person) => {\r\n    if (window.confirm(`Delete ${person.name}?`)){\r\n      personService\r\n      .remove(person.id)\r\n      .then(setPersons(persons.filter(p => p.id !== person.id)))\r\n      }\r\n    }\r\n   \r\n  \r\n  const handleNameChange = (event) => {\r\n      // console.log(event.target.value)\r\n      setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumChange = (event) => {\r\n    // console.log(event.target.value)\r\n    setNewNum(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    // console.log(event.target.value)\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  let personsToShow = persons.filter(\r\n      (person) =>  person.name.toLowerCase().includes(filter.toLowerCase()) \r\n  )\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message = {notificationMessage} error={errorNotification}/>\r\n      <Filter value={filter} handleFilterChange={handleFilterChange}/> \r\n\r\n      <h2>add a new</h2>   \r\n     <PersonsForm addNewName={addNewName} newName={newName} handleNameChange={handleNameChange} newNum={newNum} handleNumChange={handleNumChange}/>\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons persons={personsToShow} deletePerson={deletePerson}/>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}
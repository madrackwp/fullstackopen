{"version":3,"sources":["components/PersonForm.js","components/PhonebookEntry.js","components/Persons.js","services/persons.js","components/Notification.js","components/Filter.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","addNewName","value","newName","onChange","handleNameChange","newNum","handleNumChange","type","PhonebookEntry","person","deletePerson","name","num","onClick","Persons","persons","map","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","toUpdate","put","Notification","message","error","length","className","Filter","filter","handleFilterChange","App","useState","setPersons","setNewName","setNewNum","setFilter","notificationMessage","setNotificationMessage","errorNotification","setErrorNotification","useEffect","personService","initialContacts","personsToShow","toLowerCase","includes","event","target","preventDefault","i","dupChecker","window","confirm","updatedPerson","setTimeout","catch","concat","console","log","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d5bfa6f8.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.addNewName}>\r\n        <div>\r\n          name: <input value={props.newName} onChange={props.handleNameChange}/>\r\n        </div>\r\n        <div>\r\n            number: <input value={props.newNum} onChange={props.handleNumChange}></input>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" >add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport PersonForm from './PersonForm'\r\n\r\nconst PhonebookEntry = ({person, deletePerson}) => {\r\n    return(\r\n        <p key={person.name}>\r\n            {person.name} {person.num} <button onClick={()=> deletePerson(person)}>delete</button>\r\n        </p>\r\n    )  \r\n}\r\n\r\nexport default PhonebookEntry","import React from 'react'\r\nimport PhonebookEntry from './PhonebookEntry'\r\n\r\nconst Persons = (props) => {\r\n    return(\r\n        <div>\r\n            {props.persons.map(person => <PhonebookEntry person={person} deletePerson = {props.deletePerson}/>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = ( id ) => {\r\n    // console.log('attempting to delete: ',id) \r\n    return axios.delete(`${baseUrl}/${id}`) \r\n}\r\n\r\nconst update = (toUpdate, id ) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, toUpdate)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst Notification = ({message,error}) => {\r\n    if (message.length ===0){\r\n        return null\r\n    }\r\n\r\n    if (error){\r\n        return (\r\n            <div className = 'error'>\r\n                {message}\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className = 'notification'>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    \r\n}\r\n\r\nexport default Notification","import React,{useState} from 'react'\r\n\r\nconst Filter = (props) => {\r\n    // const [ filter, setFilter ] = useState('')\r\n\r\n    // const handleFilterChange = (event) => {\r\n    //     console.log(event.target.value)\r\n    //     // setFilter(event.target.value)\r\n    //   }\r\n\r\n    return (\r\n        <div>\r\n            filter shown with <input value={props.filter} onChange={props.handleFilterChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React, { useEffect, useState } from 'react'\r\nimport Persons from './components/Persons'\r\nimport PersonsForm from './components/PersonForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\nimport Filter from './components/Filter'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNum, setNewNum ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [ notificationMessage, setNotificationMessage ] = useState('')\r\n  const [ errorNotification, setErrorNotification ] = useState(false)\r\n\r\n\r\n  const hook = () => {\r\n    personService.getAll().then(initialContacts => {\r\n      setPersons(initialContacts)})\r\n  }\r\n\r\n  useEffect(hook, [])\r\n\r\n  const addNewName = (event) => {\r\n    // console.log(persons)\r\n    event.preventDefault()\r\n    const newPerson = {name: newName, num: newNum}\r\n    // console.log(newPerson)\r\n    let dupChecker = false\r\n    let id = -1\r\n    let i;\r\n    for (i=0; i<persons.length;i++){\r\n        if (persons[i].name === newPerson.name){\r\n            dupChecker = true;\r\n            id = persons[i].id\r\n        }\r\n    }\r\n\r\n    \r\n    if (dupChecker && id >= 0){\r\n        // window.alert(`${newName} is already added to phonebook`)\r\n        if (window.confirm(`${newPerson.name} has already been added, replace the old number with a new one?`)){\r\n          personService\r\n            .update(newPerson,id)\r\n            .then(updatedPerson => {\r\n              setPersons(persons.map(person => person.id !== id ? person : updatedPerson))\r\n              setNewNum('')\r\n              setNewName('')\r\n              setNotificationMessage(`${newPerson.name}'s number has been updated`)\r\n              setTimeout(() => {\r\n                setNotificationMessage('')\r\n              },3000)\r\n            })\r\n            .catch(error => {\r\n              setErrorNotification(true)\r\n              setNotificationMessage(`${newPerson.name}'s details has already been removed`)\r\n              setTimeout(() => {\r\n                setNotificationMessage('')\r\n                setErrorNotification(false)\r\n              },3000)\r\n              setPersons(persons.filter(person => person.id !== id))\r\n            })\r\n        }\r\n    } else {\r\n      personService\r\n        .create(newPerson)\r\n        .then(newPerson => {\r\n          setPersons(persons.concat(newPerson))\r\n          setNewName('')\r\n          setNewNum('')\r\n          setNotificationMessage(`${newPerson.name} has been added`)\r\n              setTimeout(() => {\r\n                setNotificationMessage('')\r\n              },5000)\r\n        })\r\n        .catch(error => {\r\n          console.log('failed: ',error)\r\n        })\r\n    }    \r\n  }\r\n\r\n  const deletePerson = (person) => {\r\n    if (window.confirm(`Delete ${person.name}?`)){\r\n      personService\r\n      .remove(person.id)\r\n      .then(setPersons(persons.filter(p => p.id !== person.id)))\r\n      }\r\n    }\r\n   \r\n  \r\n  const handleNameChange = (event) => {\r\n      // console.log(event.target.value)\r\n      setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumChange = (event) => {\r\n    // console.log(event.target.value)\r\n    setNewNum(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    // console.log(event.target.value)\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  let personsToShow = persons.filter(\r\n      (person) =>  person.name.toLowerCase().includes(filter.toLowerCase()) \r\n  )\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message = {notificationMessage} error={errorNotification}/>\r\n      <Filter value={filter} handleFilterChange={handleFilterChange}/> \r\n\r\n      <h2>add a new</h2>   \r\n     <PersonsForm addNewName={addNewName} newName={newName} handleNameChange={handleNameChange} newNum={newNum} handleNumChange={handleNumChange}/>\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons persons={personsToShow} deletePerson={deletePerson}/>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}